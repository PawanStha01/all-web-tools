<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image to PNG Converter - Convert Images to PNG Format | Multi-Tools</title>
    <meta name="description" content="Free online image to PNG converter. Convert JPG, WEBP, GIF, BMP to PNG format with transparency support. No registration required.">
    <meta name="keywords" content="image to png, png converter, jpg to png, webp to png, image converter, free tool">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <!-- Header Placeholder -->
    <div id="header-placeholder"></div>
    
    <!-- Main Content -->
    <main class="container py-4">
        <div class="row">
            <!-- Tool Content -->
            <div class="col-lg-8">
                <div class="tool-container">
                    <div class="tool-header">
                        <h1>Image to PNG Converter</h1>
                        <p class="tool-description">Convert your images to PNG format with transparency support. Supports JPG, WEBP, GIF, BMP, and other image formats.</p>
                    </div>
                    
                    <!-- Tool Form -->
                    <div class="mb-4">
                        <div class="mb-3">
                            <label for="image-input" class="form-label">Select an image to convert:</label>
                            <input class="form-control" type="file" id="image-input" accept="image/*">
                            <div class="form-text">Maximum file size: 5MB</div>
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label">Options:</label>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="preserve-transparency" checked>
                                <label class="form-check-label" for="preserve-transparency">
                                    Preserve transparency (if present)
                                </label>
                            </div>
                        </div>
                        
                        <div class="d-flex justify-content-between">
                            <button class="btn btn-primary" id="convert-btn" disabled>Convert to PNG</button>
                            <button class="btn btn-outline-secondary" id="clear-btn" disabled>Clear</button>
                        </div>
                    </div>
                    
                    <!-- Preview Section -->
                    <div class="preview-container" id="preview-container" style="display: none;">
                        <h4>Preview</h4>
                        <img id="preview-image" alt="Preview">
                    </div>
                    
                    <!-- Loading Spinner -->
                    <div class="spinner-container" id="spinner-container">
                        <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                        <p class="mt-2">Converting image...</p>
                    </div>
                    
                    <!-- Results Section -->
                    <div class="result-container" id="result-container" style="display: none;">
                        <h4>Converted Image</h4>
                        <div class="text-center mb-3">
                            <img id="result-image" alt="Converted PNG Image" class="img-fluid">
                        </div>
                        <div class="d-flex justify-content-center">
                            <a id="download-btn" class="btn btn-success me-2" download="converted-image.png">
                                <i class="bi bi-download me-1"></i> Download PNG
                            </a>
                            <button id="copy-btn" class="btn btn-outline-primary">
                                <i class="bi bi-clipboard me-1"></i> Copy Image
                            </button>
                        </div>
                    </div>
                    
                    <!-- Additional Information -->
                    <div class="mt-4">
                        <h4>About PNG Format</h4>
                        <p>PNG (Portable Network Graphics) is a raster graphics file format that supports lossless data compression. PNG was created as an improved, non-patented replacement for GIF.</p>
                        <p>Key features of PNG format:</p>
                        <ul>
                            <li><strong>Transparency:</strong> PNG supports alpha channel transparency, which allows for partial transparency and smooth edges.</li>
                            <li><strong>Lossless Compression:</strong> PNG uses lossless compression, meaning no data is lost when the image is compressed.</li>
                            <li><strong>High Color Depth:</strong> PNG supports 24-bit RGB color or 32-bit RGBA color, allowing for millions of colors.</li>
                            <li><strong>Widely Supported:</strong> PNG is supported by all modern web browsers and image editing software.</li>
                        </ul>
                        <p>PNG is ideal for:</p>
                        <ul>
                            <li>Images with transparency</li>
                            <li>Logos and icons</li>
                            <li>Screenshots</li>
                            <li>Images with text or sharp edges</li>
                            <li>Images that need to be edited multiple times</li>
                        </ul>
                    </div>
                </div>
                
                <!-- Ad Section -->
                <div class="ad-container mt-4">
                    <!-- Ad code will go here -->
                    <div class="placeholder-ad">
                        <p>Advertisement Space</p>
                    </div>
                </div>
            </div>
            
            <!-- Sidebar -->
            <div class="col-lg-4">
                <!-- Ad Section -->
                <div class="ad-container sidebar-ad">
                    <!-- Ad code will go here -->
                    <div class="placeholder-ad">
                        <p>Advertisement Space</p>
                    </div>
                </div>
                
                <!-- Related Tools -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">Related Tools</h5>
                    </div>
                    <div class="card-body">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item"><a href="/tools/image-tools/image-to-jpg.html">Image to JPG Converter</a></li>
                            <li class="list-group-item"><a href="/tools/image-tools/image-resizer.html">Image Resizer</a></li>
                            <li class="list-group-item"><a href="/tools/image-tools/image-compressor.html">Image Compressor</a></li>
                            <li class="list-group-item"><a href="/tools/image-tools/webp-to-png.html">WebP to PNG Converter</a></li>
                            <li class="list-group-item"><a href="/tools/image-tools/image-to-base64.html">Image to Base64 Converter</a></li>
                        </ul>
                    </div>
                </div>
                
                <!-- Popular Tools -->
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">Popular Tools</h5>
                    </div>
                    <div class="card-body">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item"><a href="/tools/text-tools/word-counter.html">Word Counter</a></li>
                            <li class="list-group-item"><a href="/tools/calculators/percentage-calculator.html">Percentage Calculator</a></li>
                            <li class="list-group-item"><a href="/tools/developer-tools/json-formatter.html">JSON Formatter</a></li>
                            <li class="list-group-item"><a href="/tools/seo-tools/meta-tag-generator.html">Meta Tag Generator</a></li>
                            <li class="list-group-item"><a href="/tools/unit-converters/length-converter.html">Length Converter</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Footer Placeholder -->
    <div id="footer-placeholder"></div>
    
    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="/js/include.js"></script>
    <script src="/js/main.js"></script>
    
    <!-- Tool-specific JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const imageInput = document.getElementById('image-input');
            const preserveTransparency = document.getElementById('preserve-transparency');
            const convertBtn = document.getElementById('convert-btn');
            const clearBtn = document.getElementById('clear-btn');
            const previewContainer = document.getElementById('preview-container');
            const previewImage = document.getElementById('preview-image');
            const spinnerContainer = document.getElementById('spinner-container');
            const resultContainer = document.getElementById('result-container');
            const resultImage = document.getElementById('result-image');
            const downloadBtn = document.getElementById('download-btn');
            const copyBtn = document.getElementById('copy-btn');
            
            let selectedFile = null;
            
            // Handle file input change
            imageInput.addEventListener('change', function(e) {
                selectedFile = e.target.files[0];
                
                if (selectedFile) {
                    // Check file size (max 5MB)
                    if (selectedFile.size > 5 * 1024 * 1024) {
                        alert('File size exceeds 5MB limit. Please select a smaller file.');
                        imageInput.value = '';
                        selectedFile = null;
                        return;
                    }
                    
                    // Enable buttons
                    convertBtn.disabled = false;
                    clearBtn.disabled = false;
                    
                    // Show preview
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        previewImage.src = event.target.result;
                        previewContainer.style.display = 'block';
                    };
                    reader.readAsDataURL(selectedFile);
                } else {
                    // Disable buttons if no file selected
                    convertBtn.disabled = true;
                    clearBtn.disabled = true;
                    previewContainer.style.display = 'none';
                }
            });
            
            // Convert button click
            convertBtn.addEventListener('click', function() {
                if (!selectedFile) {
                    return;
                }
                
                // Show spinner
                spinnerContainer.style.display = 'block';
                resultContainer.style.display = 'none';
                
                // Create a canvas to convert the image
                const img = new Image();
                img.onload = function() {
                    // Create canvas
                    const canvas = document.createElement('canvas');
                    canvas.width = img.width;
                    canvas.height = img.height;
                    
                    // Draw image on canvas
                    const ctx = canvas.getContext('2d');
                    
                    // Clear canvas with white background if not preserving transparency
                    if (!preserveTransparency.checked) {
                        ctx.fillStyle = 'white';
                        ctx.fillRect(0, 0, canvas.width, canvas.height);
                    }
                    
                    ctx.drawImage(img, 0, 0);
                    
                    // Convert canvas to PNG
                    const pngDataUrl = canvas.toDataURL('image/png');
                    
                    // Display result
                    resultImage.src = pngDataUrl;
                    downloadBtn.href = pngDataUrl;
                    
                    // Hide spinner and show result
                    spinnerContainer.style.display = 'none';
                    resultContainer.style.display = 'block';
                };
                
                // Load the image
                const reader = new FileReader();
                reader.onload = function(event) {
                    img.src = event.target.result;
                };
                reader.readAsDataURL(selectedFile);
            });
            
            // Clear button click
            clearBtn.addEventListener('click', function() {
                imageInput.value = '';
                selectedFile = null;
                previewContainer.style.display = 'none';
                resultContainer.style.display = 'none';
                convertBtn.disabled = true;
                clearBtn.disabled = true;
            });
            
            // Copy button click
            copyBtn.addEventListener('click', function() {
                // Create a temporary canvas to copy from
                const tempCanvas = document.createElement('canvas');
                const tempImg = new Image();
                tempImg.onload = function() {
                    tempCanvas.width = tempImg.width;
                    tempCanvas.height = tempImg.height;
                    const ctx = tempCanvas.getContext('2d');
                    ctx.drawImage(tempImg, 0, 0);
                    
                    // Copy to clipboard
                    tempCanvas.toBlob(function(blob) {
                        try {
                            const item = new ClipboardItem({ 'image/png': blob });
                            navigator.clipboard.write([item]).then(function() {
                                // Show success message
                                const originalText = copyBtn.textContent;
                                copyBtn.textContent = 'Copied!';
                                setTimeout(() => {
                                    copyBtn.innerHTML = '<i class="bi bi-clipboard me-1"></i> Copy Image';
                                }, 2000);
                            }, function(error) {
                                console.error('Could not copy image: ', error);
                                alert('Failed to copy image to clipboard. Your browser may not support this feature.');
                            });
                        } catch (err) {
                            console.error('Clipboard API not supported: ', err);
                            alert('Your browser does not support copying images to clipboard.');
                        }
                    });
                };
                tempImg.src = resultImage.src;
            });
        });
    </script>
</body>
</html>
